<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Login</title>
  <style>
    *{margin:0;padding:0;box-sizing:border-box}
    body{
      font-family:'Segoe UI',Tahoma,Geneva,Verdana,sans-serif;
      background:linear-gradient(135deg,#f0f4f8 0%,#e8eef5 100%);
      min-height:100vh;display:flex;justify-content:center;align-items:center;padding:20px;
    }
    .container{
      background:#fff;backdrop-filter:blur(10px);border-radius:20px;padding:50px 40px;
      box-shadow:0 10px 40px rgba(100,116,139,.15);width:100%;max-width:420px;animation:slideUp .5s ease;
      border:1px solid #e2e8f0;
    }
    @keyframes slideUp{from{opacity:0;transform:translateY(30px)}to{opacity:1;transform:translateY(0)}}
    .logo{text-align:center;margin-bottom:40px}
    .logo-icon{
      width:70px;height:70px;background:linear-gradient(135deg,#7dd3fc 0%,#60a5fa 100%);
      border-radius:50%;margin:0 auto 15px;display:flex;align-items:center;justify-content:center;
      font-size:32px;color:#fff;animation:pulse 2s infinite;box-shadow:0 4px 15px rgba(96,165,250,.3)
    }
    @keyframes pulse{0%,100%{transform:scale(1)}50%{transform:scale(1.05)}}
    h1{color:#1e293b;font-size:28px;text-align:center;margin-bottom:10px}
    .subtitle{text-align:center;color:#64748b;font-size:14px;margin-bottom:35px}
    .form-group{margin-bottom:25px;position:relative}
    label{display:block;margin-bottom:8px;color:#475569;font-weight:500;font-size:14px}
    input{
      width:100%;padding:15px 20px;border:2px solid #e2e8f0;border-radius:10px;font-size:15px;transition:.3s;background:#fff
    }
    input:focus{outline:none;border-color:#60a5fa;box-shadow:0 0 0 3px rgba(96,165,250,.1)}
    input:hover{border-color:#cbd5e1}
    .forgot-password{text-align:right;margin-top:-15px;margin-bottom:25px}
    .forgot-password a{color:#60a5fa;text-decoration:none;font-size:14px;transition:color .3s}
    .forgot-password a:hover{color:#3b82f6;text-decoration:underline}
    .btn-login{
      width:100%;padding:15px;background:linear-gradient(135deg,#7dd3fc 0%,#60a5fa 100%);
      color:#fff;border:none;border-radius:10px;font-size:16px;font-weight:600;cursor:pointer;transition:.3s;
      box-shadow:0 4px 15px rgba(96,165,250,.3)
    }
    .btn-login:hover{transform:translateY(-2px);box-shadow:0 6px 20px rgba(96,165,250,.4);background:linear-gradient(135deg,#60a5fa 0%,#3b82f6 100%)}
    .btn-login:active{transform:translateY(0)}
    .error{
      display:none;margin-bottom:15px;padding:10px 12px;border-radius:8px;background:#fee2e2;color:#991b1b;border:1px solid #fecaca;
      font-size:14px
    }
  </style>
</head>
<body>
  <div class="container">
    <div class="logo">
      <div class="logo-icon">üîê</div>
      <h1>Bienvenido</h1>
      <p class="subtitle">Ingresa tus credenciales para continuar</p>
    </div>

    <!-- MENSAJE DE ERROR (opcional) -->
    <div id="errorBox" class="error">Usuario o contrase√±a inv√°lidos</div>

    <!-- IMPORTANTE: action/method y names correctos -->
    <form id="loginForm" action="/auth/login" method="post" autocomplete="on">
      <div class="form-group">
        <label for="usuario">Usuario</label>
        <input type="tex id="usuario"
          name="username"           
          placeholder="Ingresa tu usuario"
          required
          autocomplete="username"
          autofocus
        >
      </div>

      <div class="form-group">
        <label for="password">Contrase√±a</label>
        <input
          type="password"
          id="password"
          name="password"           
          placeholder="Ingresa tu contrase√±a"
          required
          autocomplete="current-password"
        >
      </div>

      <div class="forgot-password">
        <a href="#" id="forgotLink">¬øHa olvidado su contrase√±a?</a>
      </div>

      <button type="submit" class="btn-login" id="submitBtn">Iniciar Sesi√≥n</button>
    </form>
  </div>

  <script>
    // Mostrar error si viene ?error=1
    (function(){
      const params = new URLSearchParams(window.location.search);
      if (params.get('error') === '1') {
        const box = document.getElementById('errorBox');
        box.style.display = 'block';
      }
    })();

    // Prevenci√≥n de doble env√≠o (opcional)
    const form = document.getElementById('loginForm');
    const submitBtn = document.getElementById('submitBtn');
    form.addEventListener('submit', () => {
      submitBtn.disabled = true;
      submitBtn.textContent = 'Ingresando...';
      // No hacemos preventDefault: dejamos que el navegador haga el POST y siga el 303 ‚Üí /home
    });

    // Link de ‚Äúolvid√© mi contrase√±a‚Äù (placeholder)
    document.getElementById('forgotLink').addEventListener('click', (e) => {
      e.preventDefault();
      alert('Redirigiendo a recuperaci√≥n de contrase√±a‚Ä¶');
    });
  </script>
</body>
</html>
