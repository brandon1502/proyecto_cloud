<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Registro</title>
  <link rel="stylesheet" href="{{ url_for('static', path='css/login.css') }}">
</head>
<body>
  <div class="container">
    <div class="logo">
      <div class="logo-icon">游닇</div>
      <h1>Crear Cuenta</h1>
      <p class="subtitle">Completa tus datos para registrarte</p>
    </div>

    <!-- Oc칰ltalo con CSS por defecto (display:none) -->
    <div id="errorBox" class="error">Error en el registro. Verifica tus datos.</div>

    <form id="registerForm" action="/auth/register" method="post" autocomplete="on">
      <div class="form-group">
        <label for="full_name">Nombre Completo</label>
        <input
          type="text"
          id="full_name"
          name="full_name"          
          placeholder="Ingresa tu nombre completo"
          required
          autocomplete="name"
          autofocus
        >
      </div>

      <div class="form-group">
        <label for="email">Correo Electr칩nico</label>
        <input
          type="email"
          id="email"
          name="email"
          placeholder="correo@ejemplo.com"
          required
          autocomplete="email"
        >
      </div>

      <div class="form-group">
        <label for="password">Contrase침a</label>
        <input
          type="password"
          id="password"
          name="password"
          placeholder="Crea una contrase침a segura"
          required
          autocomplete="new-password"
        >
      </div>

      <div class="form-group">
        <label for="password2">Confirmar Contrase침a</label>
        <input
          type="password"
          id="password2"
          name="password2"
          placeholder="Repite tu contrase침a"
          required
          autocomplete="new-password"
        >
      </div>

      <button type="submit" class="btn-login" id="submitBtn">Registrarse</button>
    </form>

    <div class="register-link">
      <p>쯏a tienes cuenta? <a href="/login">Inicia sesi칩n aqu칤</a></p>
    </div>
  </div>

  <script>
    const form = document.getElementById('registerForm');
    const submitBtn = document.getElementById('submitBtn');
    const errorBox = document.getElementById('errorBox');

    form.addEventListener('submit', (e) => {
      const p1 = document.getElementById('password').value;
      const p2 = document.getElementById('password2').value;

      if (p1 !== p2) {
        e.preventDefault();
        errorBox.textContent = 'Las contrase침as no coinciden';
        errorBox.style.display = 'block';
        return;
      }
      if (p1.length < 6) {
        e.preventDefault();
        errorBox.textContent = 'La contrase침a debe tener al menos 6 caracteres';
        errorBox.style.display = 'block';
        return;
      }
      submitBtn.disabled = true;
      submitBtn.textContent = 'Registrando...';
    });
  </script>
</body>
</html>
